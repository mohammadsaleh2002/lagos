TRANSLATIONS = {
    # --- General ---
    'app_name': {'en': 'Lagos', 'fa': 'لاگوس'},
    'dashboard': {'en': 'Dashboard', 'fa': 'داشبورد'},
    'projects': {'en': 'Projects', 'fa': 'پروژه‌ها'},
    'api_keys': {'en': 'API Keys', 'fa': 'کلیدهای API'},
    'content': {'en': 'Content', 'fa': 'محتوا'},
    'publishing': {'en': 'Publishing', 'fa': 'انتشار'},
    'logout': {'en': 'Logout', 'fa': 'خروج'},
    'login': {'en': 'Login', 'fa': 'ورود'},
    'save': {'en': 'Save', 'fa': 'ذخیره'},
    'cancel': {'en': 'Cancel', 'fa': 'انصراف'},
    'delete': {'en': 'Delete', 'fa': 'حذف'},
    'edit': {'en': 'Edit', 'fa': 'ویرایش'},
    'create': {'en': 'Create', 'fa': 'ایجاد'},
    'add': {'en': 'Add', 'fa': 'افزودن'},
    'actions': {'en': 'Actions', 'fa': 'عملیات'},
    'status': {'en': 'Status', 'fa': 'وضعیت'},
    'back': {'en': 'Back', 'fa': 'بازگشت'},
    'view': {'en': 'View', 'fa': 'مشاهده'},
    'enable': {'en': 'Enable', 'fa': 'فعال'},
    'disable': {'en': 'Disable', 'fa': 'غیرفعال'},
    'active': {'en': 'Active', 'fa': 'فعال'},
    'disabled': {'en': 'Disabled', 'fa': 'غیرفعال'},
    'yes': {'en': 'Yes', 'fa': 'بله'},
    'no': {'en': 'No', 'fa': 'خیر'},
    'none': {'en': 'None', 'fa': 'هیچکدام'},
    'error': {'en': 'Error', 'fa': 'خطا'},
    'success': {'en': 'Success', 'fa': 'موفق'},
    'warning': {'en': 'Warning', 'fa': 'هشدار'},
    'language': {'en': 'Language', 'fa': 'زبان'},
    'english': {'en': 'English', 'fa': 'انگلیسی'},
    'persian': {'en': 'Persian', 'fa': 'فارسی'},
    'created_at': {'en': 'Created', 'fa': 'تاریخ ایجاد'},

    # --- Auth ---
    'username': {'en': 'Username', 'fa': 'نام کاربری'},
    'password': {'en': 'Password', 'fa': 'رمز عبور'},
    'confirm_password': {'en': 'Confirm Password', 'fa': 'تکرار رمز عبور'},
    'email': {'en': 'Email', 'fa': 'ایمیل'},
    'login_title': {'en': 'Login to Lagos', 'fa': 'ورود به لاگوس'},
    'setup_title': {'en': 'Lagos Setup', 'fa': 'راه‌اندازی لاگوس'},
    'create_admin': {'en': 'Create your admin account', 'fa': 'ایجاد حساب مدیر'},
    'create_account': {'en': 'Create Account', 'fa': 'ایجاد حساب'},
    'invalid_credentials': {'en': 'Invalid username or password.', 'fa': 'نام کاربری یا رمز عبور نادرست است.'},
    'username_password_required': {'en': 'Username and password are required.', 'fa': 'نام کاربری و رمز عبور الزامی است.'},
    'passwords_no_match': {'en': 'Passwords do not match.', 'fa': 'رمزهای عبور مطابقت ندارند.'},
    'admin_created': {'en': 'Admin account created. Please log in.', 'fa': 'حساب مدیر ایجاد شد. لطفا وارد شوید.'},

    # --- Dashboard ---
    'total_articles': {'en': 'Total Articles', 'fa': 'کل مقالات'},
    'published': {'en': 'Published', 'fa': 'منتشر شده'},
    'unpublished': {'en': 'Unpublished', 'fa': 'منتشر نشده'},
    'queue': {'en': 'Queue', 'fa': 'صف انتظار'},
    'project_overview': {'en': 'Project Overview', 'fa': 'نمای کلی پروژه‌ها'},
    'keywords': {'en': 'Keywords', 'fa': 'کلمات کلیدی'},
    'titles': {'en': 'Titles', 'fa': 'عناوین'},
    'articles': {'en': 'Articles', 'fa': 'مقالات'},
    'scheduled_jobs': {'en': 'Scheduled Jobs', 'fa': 'کارهای زمان‌بندی شده'},
    'job_id': {'en': 'Job ID', 'fa': 'شناسه کار'},
    'next_run': {'en': 'Next Run', 'fa': 'اجرای بعدی'},
    'trigger': {'en': 'Trigger', 'fa': 'تریگر'},
    'no_projects_yet': {'en': 'No projects yet.', 'fa': 'هنوز پروژه‌ای وجود ندارد.'},
    'create_first_project': {'en': 'Create Your First Project', 'fa': 'اولین پروژه خود را بسازید'},

    # --- Projects ---
    'new_project': {'en': 'New Project', 'fa': 'پروژه جدید'},
    'edit_project': {'en': 'Edit Project', 'fa': 'ویرایش پروژه'},
    'create_project': {'en': 'Create Project', 'fa': 'ایجاد پروژه'},
    'save_changes': {'en': 'Save Changes', 'fa': 'ذخیره تغییرات'},
    'project_created': {'en': 'Project created successfully.', 'fa': 'پروژه با موفقیت ایجاد شد.'},
    'project_updated': {'en': 'Project updated successfully.', 'fa': 'پروژه با موفقیت به‌روز شد.'},
    'project_deleted': {'en': 'Project deleted.', 'fa': 'پروژه حذف شد.'},
    'project_not_found': {'en': 'Project not found.', 'fa': 'پروژه یافت نشد.'},
    'delete_project_confirm': {'en': 'Delete this project and all its content?', 'fa': 'این پروژه و تمام محتوای آن حذف شود؟'},
    'wp_connected': {'en': 'WP Connected', 'fa': 'وردپرس متصل'},
    'auto_publish': {'en': 'Auto-publish', 'fa': 'انتشار خودکار'},

    # Project form
    'business_info': {'en': 'Business Information', 'fa': 'اطلاعات کسب‌وکار'},
    'project_name': {'en': 'Project Name', 'fa': 'نام پروژه'},
    'project_key': {'en': 'Project Key', 'fa': 'کلید پروژه'},
    'company_name': {'en': 'Company Name', 'fa': 'نام شرکت'},
    'business_field': {'en': 'Business Field', 'fa': 'حوزه کاری'},
    'services_products': {'en': 'Services / Products', 'fa': 'خدمات / محصولات'},
    'about_company': {'en': 'About Company', 'fa': 'درباره شرکت'},
    'contact_info': {'en': 'Contact Info', 'fa': 'اطلاعات تماس'},
    'phone': {'en': 'Phone', 'fa': 'تلفن'},
    'mobile': {'en': 'Mobile', 'fa': 'موبایل'},
    'address': {'en': 'Address', 'fa': 'آدرس'},
    'seo_content': {'en': 'SEO & Content', 'fa': 'سئو و محتوا'},
    'seed_keywords': {'en': 'Seed Keywords (separated by -)', 'fa': 'کلمات کلیدی اولیه (با - جدا شوند)'},
    'bullet_template': {'en': 'Bullet Template', 'fa': 'قالب بولت'},
    'wordpress_connection': {'en': 'WordPress Connection', 'fa': 'اتصال وردپرس'},
    'wp_url': {'en': 'WordPress URL', 'fa': 'آدرس وردپرس'},
    'wp_username': {'en': 'WP Username', 'fa': 'نام کاربری وردپرس'},
    'wp_app_password': {'en': 'WP App Password', 'fa': 'رمز اپلیکیشن وردپرس'},
    'category_id': {'en': 'Category ID', 'fa': 'شناسه دسته‌بندی'},
    'telegram_optional': {'en': 'Telegram (Optional)', 'fa': 'تلگرام (اختیاری)'},
    'bot_token': {'en': 'Bot Token', 'fa': 'توکن ربات'},
    'chat_id': {'en': 'Chat ID', 'fa': 'شناسه چت'},
    'schedule': {'en': 'Schedule', 'fa': 'زمان‌بندی'},
    'auto_content_creation': {'en': 'Auto Content Creation', 'fa': 'تولید خودکار محتوا'},
    'auto_publishing': {'en': 'Auto Publishing', 'fa': 'انتشار خودکار'},
    'interval_minutes': {'en': 'Interval (minutes)', 'fa': 'فاصله زمانی (دقیقه)'},
    'content_settings': {'en': 'Content Settings', 'fa': 'تنظیمات محتوا'},
    'num_articles': {'en': 'Articles', 'fa': 'تعداد مقالات'},
    'num_keywords': {'en': 'Keywords', 'fa': 'تعداد کلمات کلیدی'},
    'num_ads': {'en': 'Ads', 'fa': 'تعداد تبلیغات'},
    'word_count': {'en': 'Word Count', 'fa': 'تعداد کلمات'},
    'chapters': {'en': 'Chapters', 'fa': 'فصل‌ها'},
    'ads_words': {'en': 'Ads Words', 'fa': 'کلمات تبلیغ'},
    'name_key_required': {'en': 'Name and Project Key are required.', 'fa': 'نام و کلید پروژه الزامی است.'},

    # --- API Keys ---
    'add_new_api_key': {'en': 'Add New API Key', 'fa': 'افزودن کلید API جدید'},
    'select_provider': {'en': 'Select Provider', 'fa': 'انتخاب ارائه‌دهنده'},
    'key_name': {'en': 'Key name (optional)', 'fa': 'نام کلید (اختیاری)'},
    'api_key': {'en': 'API Key', 'fa': 'کلید API'},
    'provider': {'en': 'Provider', 'fa': 'ارائه‌دهنده'},
    'name': {'en': 'Name', 'fa': 'نام'},
    'key': {'en': 'Key', 'fa': 'کلید'},
    'uses': {'en': 'Uses', 'fa': 'استفاده'},
    'errors': {'en': 'Errors', 'fa': 'خطاها'},
    'last_used': {'en': 'Last Used', 'fa': 'آخرین استفاده'},
    'reset_errors': {'en': 'Reset Errors', 'fa': 'بازنشانی خطاها'},
    'invalid_provider': {'en': 'Invalid provider.', 'fa': 'ارائه‌دهنده نامعتبر.'},
    'api_key_required': {'en': 'API key is required.', 'fa': 'کلید API الزامی است.'},
    'api_key_added': {'en': 'API key added.', 'fa': 'کلید API اضافه شد.'},
    'key_toggled': {'en': 'API key status toggled.', 'fa': 'وضعیت کلید API تغییر کرد.'},
    'errors_reset': {'en': 'Error count reset.', 'fa': 'تعداد خطاها بازنشانی شد.'},
    'key_deleted': {'en': 'API key deleted.', 'fa': 'کلید API حذف شد.'},
    'delete_key_confirm': {'en': 'Delete this API key?', 'fa': 'این کلید API حذف شود؟'},
    'no_keys_yet': {'en': 'No API keys configured. Add one above to start generating content.', 'fa': 'هیچ کلید API تنظیم نشده. یکی اضافه کنید تا تولید محتوا شروع شود.'},

    # --- Content ---
    'content_overview': {'en': 'Content Overview', 'fa': 'نمای کلی محتوا'},
    'view_articles': {'en': 'View Articles', 'fa': 'مشاهده مقالات'},
    'bein_paragraphs': {'en': 'Bein', 'fa': 'بین پاراگرافی'},
    'info_blocks': {'en': 'Info', 'fa': 'اینفو'},
    'bullet_items': {'en': 'Bullets', 'fa': 'بولت‌ها'},
    'generate_keywords': {'en': 'Keywords', 'fa': 'کلمات کلیدی'},
    'generate_titles': {'en': 'Titles', 'fa': 'عناوین'},
    'generate_article': {'en': 'Generate Article', 'fa': 'تولید مقاله'},
    'generate_supplementary': {'en': 'Supplementary', 'fa': 'مکمل'},
    'full_pipeline': {'en': 'Full Pipeline', 'fa': 'خط تولید کامل'},
    'no_projects_create': {'en': 'No projects. Create a project first.', 'fa': 'پروژه‌ای وجود ندارد. ابتدا یک پروژه بسازید.'},
    'all': {'en': 'All', 'fa': 'همه'},
    'title': {'en': 'Title', 'fa': 'عنوان'},
    'tag': {'en': 'Tag', 'fa': 'تگ'},
    'pending': {'en': 'Pending', 'fa': 'در انتظار'},
    'publish': {'en': 'Publish', 'fa': 'انتشار'},
    'publish_now': {'en': 'Publish Now', 'fa': 'انتشار فوری'},
    'view_on_wp': {'en': 'View on WordPress', 'fa': 'مشاهده در وردپرس'},
    'no_articles_yet': {'en': 'No articles yet. Generate some content.', 'fa': 'هنوز مقاله‌ای وجود ندارد. محتوا تولید کنید.'},
    'view_keywords_titles': {'en': 'View Keywords & Titles', 'fa': 'مشاهده کلمات کلیدی و عناوین'},
    'back_to_articles': {'en': 'Back to Articles', 'fa': 'بازگشت به مقالات'},
    'slug': {'en': 'Slug', 'fa': 'اسلاگ'},
    'faq': {'en': 'FAQ', 'fa': 'سوالات متداول'},
    'references': {'en': 'References', 'fa': 'منابع'},
    'used': {'en': 'Used', 'fa': 'استفاده شده'},
    'unused': {'en': 'Unused', 'fa': 'استفاده نشده'},
    'generated': {'en': 'Generated', 'fa': 'تولید شده'},
    'blog_titles': {'en': 'Blog Titles', 'fa': 'عناوین بلاگ'},
    'total': {'en': 'total', 'fa': 'کل'},
    'in_queue': {'en': 'in queue', 'fa': 'در صف'},

    # Content generation messages
    'generated_keywords': {'en': 'Generated {count} keywords.', 'fa': '{count} کلمه کلیدی تولید شد.'},
    'generated_titles': {'en': 'Generated {b} blog titles, {a} ads titles.', 'fa': '{b} عنوان بلاگ و {a} عنوان تبلیغ تولید شد.'},
    'article_generated': {'en': 'Article generated successfully.', 'fa': 'مقاله با موفقیت تولید شد.'},
    'no_titles_available': {'en': 'No unused titles available. Generate titles first.', 'fa': 'عنوان استفاده نشده‌ای وجود ندارد. ابتدا عنوان تولید کنید.'},
    'ads_generated': {'en': 'Ads content generated.', 'fa': 'محتوای تبلیغاتی تولید شد.'},
    'supplementary_generated': {'en': 'Generated {b} bein paragraphs, {i} info blocks, {bl} bullets.', 'fa': '{b} بین پاراگرافی، {i} اینفو و {bl} بولت تولید شد.'},
    'pipeline_completed': {'en': 'Full pipeline completed.', 'fa': 'خط تولید کامل انجام شد.'},
    'unknown_action': {'en': 'Unknown action.', 'fa': 'عملیات ناشناخته.'},
    'generation_error': {'en': 'Generation error: {e}', 'fa': 'خطای تولید: {e}'},

    # --- Publishing ---
    'publishing_queue': {'en': 'Publishing Queue', 'fa': 'صف انتشار'},
    'publish_next': {'en': 'Publish Next', 'fa': 'انتشار بعدی'},
    'unpublished_articles': {'en': 'Unpublished Articles', 'fa': 'مقالات منتشر نشده'},
    'recently_published': {'en': 'Recently Published', 'fa': 'اخیرا منتشر شده'},
    'wp_url_col': {'en': 'WP URL', 'fa': 'آدرس وردپرس'},
    'published_at': {'en': 'Published', 'fa': 'تاریخ انتشار'},
    'no_unpublished': {'en': 'No unpublished articles.', 'fa': 'مقاله منتشر نشده‌ای وجود ندارد.'},
    'no_projects_configured': {'en': 'No projects configured.', 'fa': 'پروژه‌ای پیکربندی نشده.'},
    'active_scheduled_jobs': {'en': 'Active Scheduled Jobs', 'fa': 'کارهای زمان‌بندی فعال'},
    'publishing_settings': {'en': 'Publishing Settings', 'fa': 'تنظیمات انتشار'},
    'configure_in_project': {'en': 'Configure scheduling in each project\'s settings page.', 'fa': 'زمان‌بندی را در صفحه تنظیمات هر پروژه پیکربندی کنید.'},
    'edit_schedule': {'en': 'Edit Schedule', 'fa': 'ویرایش زمان‌بندی'},
    'running_jobs': {'en': 'Running Jobs', 'fa': 'کارهای در حال اجرا'},
    'interval': {'en': 'Interval', 'fa': 'فاصله زمانی'},
    'creation': {'en': 'Creation', 'fa': 'تولید'},
    'every_min': {'en': 'every {n} min', 'fa': 'هر {n} دقیقه'},
    'off': {'en': 'off', 'fa': 'خاموش'},
    'published_msg': {'en': 'Published: {title} -> {url}', 'fa': 'منتشر شد: {title} -> {url}'},
    'no_articles_to_publish': {'en': 'No unpublished articles available.', 'fa': 'مقاله‌ای برای انتشار موجود نیست.'},
    'publishing_error': {'en': 'Publishing error: {e}', 'fa': 'خطای انتشار: {e}'},
}


def get_text(key, lang='en', **kwargs):
    """Get translated text by key."""
    entry = TRANSLATIONS.get(key, {})
    text = entry.get(lang, entry.get('en', key))
    if kwargs:
        text = text.format(**kwargs)
    return text
